"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54854],{47268:function(e,r,t){t.d(r,{w:function(){return u}});var n=t(22318),o=t(58365),s=t(43267),i=t(16204),a=(0,t(13013).g)(i.Z),c=t(16370),l=t(57880),p=t(85893),u=function(e){var r=e.track,t=e.tracks,i=(0,s.$G)(l.KWt),u=i.t,d=i.ready,h=(0,c.R)().playerActions;return(0,p.jsx)(a,{clickable:!0,label:(0,p.jsx)(n.Z,{variant:"caption",component:"div",color:"textSecondary",children:d?u("music:music_download_modal_heading_full_track"):(0,p.jsx)(o.Z,{width:50})}),disabled:!d,onClick:function(){return h.handlePlay({track:r,tracks:t})},variant:"outlined",labelTrack:"fullTrack"})}},54854:function(e,r,t){t.d(r,{x:function(){return v}});var n=t(59499),o=t(29490),s=t(80343),i=t(22318),a=t(43267),c=t(67294),l=t(81176),p=t(61039),u=t(57880),d=t(47268),h=t(85893);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v=function(e){var r=e.activeTracks,t=e.playingTrack,n=e.showLoops,f=e.showTitles,v=(0,a.$G)(u.KWt),m=v.t,j=v.ready,y=function(e){var r=e.t;return{loops:r("music:loops"),shorts:r("ent:track_shorts_label")}}({t:m}),g=(null===t||void 0===t?void 0:t.trackAssets)||{},x=g.shorts,k=g.loops,O=(0,c.useMemo)((function(){var e=function(e){return b(b({},e),{},{parentTrack:t})};return{formattedLoops:Array.isArray(k)?k.map(e):[],formattedShorts:Array.isArray(x)?x.map(e):[]}}),[x,k,t]),w=O.formattedShorts,P=O.formattedLoops,Z=!!w.length||!!P.length;return(0,h.jsx)(o.Z,{smDown:!0,children:(0,h.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[Z&&(0,h.jsx)(s.Z,{display:"flex",alignItems:"center",mr:4,children:(0,h.jsx)(d.w,{track:t,tracks:r})}),(0,h.jsx)(s.Z,{display:"flex",alignItems:"center",mr:4,children:!!w.length&&(0,h.jsxs)(h.Fragment,{children:[f&&(0,h.jsx)(s.Z,{mr:3,children:j&&(0,h.jsx)(i.Z,{variant:"caption",children:y.shorts})}),(0,h.jsx)(s.Z,{mr:2,children:(0,h.jsx)(l.TrackAssetPreviews,{track:t,isActive:!0,type:p.oW,popperPlacement:"top"})})]})}),n&&!!P.length&&(0,h.jsx)(o.Z,{mdDown:!0,children:(0,h.jsx)(s.Z,{display:"flex",alignItems:"center",mr:4,children:(0,h.jsxs)(h.Fragment,{children:[f&&(0,h.jsx)(s.Z,{mr:3,children:j&&(0,h.jsx)(i.Z,{variant:"caption",children:y.loops})}),(0,h.jsx)(s.Z,{mr:2,children:(0,h.jsx)(l.TrackAssetPreviews,{track:t,isActive:!0,type:p.uI,popperPlacement:"top"})})]})})})]})})};v.defaultProps={activeTracks:[],playingTrack:null,showLoops:!0,showTitles:!0}},81176:function(e,r,t){t.r(r),t.d(r,{TrackAssetPreviews:function(){return T}});var n=t(59499),o=t(41120),s=t(84872),i=t(52795),a=t(79895),c=t(67294),l=t(17812),p=t(22318),u=t(86010),d=t(53754),h=t(16370),f=t(87686),b=t(13013),v=t(17363),m=t(50153),j=t(85893);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var x=(0,b.g)(l.Z),k=(0,o.Z)((function(e){var r=e.palette,t=e.typography;return{root:{cursor:"pointer",position:"relative",display:"inline-flex",borderRadius:"100%",borderStyle:"solid",borderWidth:function(e){return e.thickness},borderColor:r.border1Color,"&, &$circularProgress":{width:function(e){return e.size},height:function(e){return e.size}}},circularProgress:{position:"absolute",transform:"translateZ(0)",top:function(e){return-e.thickness},left:function(e){return-e.thickness}},labelWrapper:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},skeleton:{display:"flex",justifyContent:"center",alignItems:"baseline",width:function(e){return e.size},height:function(e){return e.size},color:r.text.secondary,cursor:"pointer"},placeholder:{borderWidth:v.Cg.width.m,borderStyle:"solid",width:30,height:30,display:"flex",borderRadius:"100%",alignItems:"center",justifyContent:"center",fontSize:t.caption.fontSize,color:r.text.secondary,borderColor:r.border1Color}}})),O=function(e){var r=e.label,t=k({size:30,thickness:2});return(0,j.jsx)("div",{className:(0,u.Z)(t.root,t.skeleton),children:r})},w=function(e){var r=e.children;return(0,j.jsx)("div",{children:r})},P=function(e){var r=e.classes,t=e.label,n=e.size,o=e.thickness,s=e.track,i=e.tracks,a=e.analyticsLabel,c=(0,f.wU)(),l="".concat(c,".audioPlayerPlay").concat(a),u=(0,h.R)().playerActions,b=g(g({},s),{},{id:null===s||void 0===s?void 0:s.externalUrl,previewMp3:null===s||void 0===s?void 0:s.externalUrl,parentId:(null===s||void 0===s?void 0:s.parentId)||""}),v=null===i||void 0===i?void 0:i.map((function(e){return g(g(g({},s),e),{},{id:null===e||void 0===e?void 0:e.externalUrl,previewMp3:null===e||void 0===e?void 0:e.externalUrl,parentId:(null===s||void 0===s?void 0:s.parentId)||""})}));return(0,j.jsxs)(x,{className:r.root,onClick:function(){return u.handlePlay({track:b,tracks:v})},clickTrack:l,children:[(0,j.jsx)(m.r,{track:b,highRefreshRate:!0,children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.percentComplete;return(0,j.jsx)(d.e,{radius:n/2+o,stroke:1.5,progress:r})}}),(0,j.jsx)("div",{className:r.labelWrapper,children:(0,j.jsx)(p.Z,{variant:"caption",component:"div",color:"textSecondary",children:t})})]})},Z=function(e){var r=e.isActive,t=e.label,n=e.size,o=e.thickness,s=e.analyticsLabel,i=e.track,a=e.tracks,l=k({size:n,thickness:o}),p=(0,c.useState)(!1),u=p[0],d=p[1],h=u||r;return(0,j.jsx)(j.Fragment,{children:h?(0,j.jsx)(P,{classes:l,label:t,size:n,thickness:o,track:i,tracks:a,analyticsLabel:s}):(0,j.jsx)("div",{className:l.placeholder,onMouseEnter:function(){return!u&&d(!0)},children:(0,j.jsx)(w,{children:t})})})};Z.defaultProps={isActive:!1,label:"",size:30,thickness:2,analyticsLabel:"",track:null,tracks:[]};var A=t(61039),S=t(79017);function W(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?W(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var I=[A.oW,A.uI,A.aN].reduce((function(e,r){return C(C({},e),{},(0,n.Z)({},r,(0,S.k)(r)))}),{}),L=(0,o.Z)((function(e){var r=e.spacing,t=e.palette,n="10px";return{shortsLoopsItemWrapper:{"&:not(:last-child)":{marginRight:r(2)}},shortsLoopsSectionWrapper:{display:"flex",marginRight:r(6)},shortsPopperRoot:{backgroundColor:t.popper.color},shortsPopperWrapper:{display:"flex",justifyContent:"center",backgroundColor:t.popper.color,borderRadius:"5px",padding:"5px",margin:n},popperArrow:{position:"absolute",width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:"10px solid ".concat(t.popper.color),top:"-".concat(n),margin:n,"[role=tooltip][x-placement^=top] &":{top:"unset",bottom:"-".concat(n),transform:"rotate(180deg)"}}}})),T=function(e){var r=e.isActive,t=e.track,n=e.type,o=e.popperPlacement,l=L(),p=(0,c.useState)(null),u=p[0],d=p[1],h=(0,c.useState)(null),f=h[0],b=h[1],v=(0,c.useState)(!1),m=v[0],y=v[1],g=(0,c.useMemo)((function(){var e,r=(null===t||void 0===t||null===(e=t.trackAssets)||void 0===e?void 0:e[n])||[];return r.length===A.Wx?{truncated:r,remaining:[]}:{truncated:r.slice(0,A.Wx-1),remaining:r.slice(A.Wx-1)}}),[null===t||void 0===t?void 0:t.trackAssets,n]),x=g.truncated,k=g.remaining;return(0,j.jsxs)("div",{className:l.shortsLoopsSectionWrapper,children:[x.length?x.map((function(e,o){return(0,j.jsx)("div",{className:l.shortsLoopsItemWrapper,children:(0,j.jsx)(Z,{isActive:r,label:(n===A.oW?A.wZ[o]:o+1).toString(),track:C(C({},e),{},{parentTrack:t}),tracks:x,analyticsLabel:"".concat(I[n])})},"".concat(n,"-").concat(null===e||void 0===e?void 0:e.externalUrl))})):null,k.length?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.Z,{open:m,anchorEl:u,placement:o,disablePortal:!0,modifiers:{arrow:{enabled:!0,element:f}},children:(0,j.jsx)(i.Z,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:function(){y(!1)},children:(0,j.jsxs)(a.Z,{className:l.shortsPopperRoot,children:[(0,j.jsx)("span",{ref:b,className:l.popperArrow}),(0,j.jsx)("div",{className:l.shortsPopperWrapper,children:k.map((function(e,o){return(0,j.jsx)("div",{className:l.shortsLoopsItemWrapper,children:(0,j.jsx)(Z,{isActive:r,label:(x.length+o+1).toString(),track:C(C({},e),{},{parentTrack:t}),tracks:k,analyticsLabel:"".concat(I[n])})},"stems-".concat(e.externalUrl))}))})]})})}),(0,j.jsx)("div",{className:l.shortsLoopsItemWrapper,onClick:function(e){u||d(e.currentTarget),y(!m)},children:(0,j.jsx)(O,{label:"..."})})]}):null]})};T.defaultProps={isActive:!1,popperPlacement:"bottom"}}}]);
//# sourceMappingURL=54854.346560487f46f353.js.map