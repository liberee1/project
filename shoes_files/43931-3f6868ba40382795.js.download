"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43931],{98489:function(e,t,i){i.d(t,{A:function(){return b}});var n=i(67294),o=i(81391),s=i(52087),r=i(48483),a=i(48184),l=i(54887),c=i(73668),u=i(67126),d=i(59499),p=i(87883);function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){(0,d.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f=function(e){var t,i=e.assetType,n=e.clickAnalyticsLabels,o=e.hasExistingLicense,s=e.hasExistingSubscription,r=e.isEditorialVideoOnEcomm,a=e.isFootageSelect,l=e.isLoggedInUser,c=e.isRexEditorialAsset,u=e.labels,d=s||o,_=l&&!d,f=l&&d;switch(i){case p.k4:t=function(e){var t=e.clickAnalyticsLabels,i=e.isRexEditorialAsset,n=e.isLoggedInUser,o=e.labels;return g(g({},i?{downloadButtonClickAnalyticsLabel:t.downloadButton,downloadButtonLabel:o.download}:{downloadButtonClickAnalyticsLabel:t.downloadFreeButton,downloadButtonLabel:o.downloadForFree}),{},{shouldShowDownloadButton:!n,shouldShowAddToCartButton:!1,shouldShowOpenLicenseDrawerButton:n})}({clickAnalyticsLabels:n,isLoggedInUser:l,isRexEditorialAsset:c,labels:u});break;case p.pX:t=function(e){var t=e.isEditorialVideoOnEcomm,i=e.isFootageSelect,n=e.isLoggedInUser,o=e.isLoggedInWithoutPlan,s=e.isLoggedInWithPlan;return e.isRexEditorialAsset?{shouldShowAddToCartButton:t,shouldShowFreeDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!t}:{shouldShowAddToCartButton:!n||o||i,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:s&&!i}}({isEditorialVideoOnEcomm:r,isFootageSelect:a,isLoggedInUser:l,isLoggedInWithoutPlan:_,isLoggedInWithPlan:f,isRexEditorialAsset:c});break;case p.xF:case p.tn:default:t={shouldShowAddToCartButton:!l||_||a,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:f&&!a}}return o?{shouldShowAddToCartButton:!1,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!0}:t},b=function(e){var t,i,d=e.asset,_=e.clickAnalyticsLabels,g=void 0===_?{}:_,b=e.labels,h=void 0===b?{}:b,m=e.shouldFetchEligibility,v=void 0===m||m,w=e.assetIsLicensed,S=void 0!==w&&w,y=d.isFootageSelect,O=(0,s.Tp)(d),A=(0,s.EK)(d),Z=(0,l.B)(),L=(0,c.DJ)().data,E=(0,r.lc)({subscriptions:L,assetType:O}),B=(0,u.p)("editorial-video-on-ecomm",!1,!1,!0),P=function(e){var t=e.isLoggedInUser,i=e.shouldFetchEligibility,n=e.hasActiveSubscriptionForAssetType,o=e.assetType,s=e.isRexEditorialAsset,r=e.isFootageSelect,a=!s&&!r&&(o===p.pX||o===p.xF||o===p.tn);return!!(t&&i&&!1===n&&a)}({isLoggedInUser:Z,shouldFetchEligibility:v,hasActiveSubscriptionForAssetType:E,assetType:O,isRexEditorialAsset:A,isFootageSelect:y}),j=(0,a.IP)({assets:[d],shouldFetch:P}).data,D=(0,n.useState)({status:"",error:void 0}),x=D[0],F=D[1],T=S||!(null===j||void 0===j||null===(t=j.licenses)||void 0===t||!t.length),k=!(null===j||void 0===j||null===(i=j.subscriptions)||void 0===i||!i.length)||E,C=void 0===Z||Z&&void 0===L,I=f({assetType:O,clickAnalyticsLabels:g,hasExistingLicense:T,hasExistingSubscription:k,isEditorialVideoOnEcomm:B,isFootageSelect:y,isLoggedInUser:Z,isRexEditorialAsset:A,labels:h}),z=I.shouldShowDownloadButton,R=I.shouldShowOpenLicenseDrawerButton,N=I.shouldShowAddToCartButton,U=I.downloadButtonClickAnalyticsLabel,H=I.downloadButtonLabel,V=(0,n.useCallback)((function(){return F({status:o.MR,error:void 0})}),[]);return{addToCartFailureHandler:(0,n.useCallback)((function(e){return F({status:o.cM,error:e})}),[]),addToCartStatus:x,addToCartSuccessHandler:V,closeAddToCartSnackbarHandler:(0,n.useCallback)((function(){return F({status:"",error:void 0})}),[]),downloadButtonClickAnalyticsLabel:U,downloadButtonLabel:H,eligibility:j,hasExistingLicense:T,shouldShowAddToCartButton:N,shouldShowButtonLoadingPlaceholder:C,shouldShowDownloadButton:z,shouldShowOpenLicenseDrawerButton:R}}},64122:function(e,t,i){i.d(t,{Cs:function(){return A},Gp:function(){return x},HS:function(){return h},Ji:function(){return w},LQ:function(){return T},MQ:function(){return S},OA:function(){return N},OZ:function(){return P},Y:function(){return v},cs:function(){return Z},d9:function(){return F},hb:function(){return m},pe:function(){return O},rR:function(){return y},tT:function(){return D},ur:function(){return b},vZ:function(){return j}});var n,o,s,r,a,l,c,u,d=i(90116),p=i(59499),_=i(8818),g=i(39338),f=i(87883),b="standard",h="enhanced",m="footage_standard",v="footage_enhanced",w=["single_image_standard_license","enhanced_1_download_365_day"],S=(g.SD,g.HD,g.yF,"P1Y"),y="P1M",O=(n={},(0,p.Z)(n,g.SD,"nonhd"),(0,p.Z)(n,g.HD,g.HD),(0,p.Z)(n,g.yF,g.eD),"select_video"),A="pack",Z="single",L=["allotment_credits","commitment_length","currency","download_credits","eligible_for_rebilling","license","name","price","prices"],E=[].concat(L,["repeat_interval"]),B=[].concat((0,d.Z)(E),["eligible_for_extra_seats","is_team_experience_eligible","prices_per_seat"]),P={"filter[group_id]":"video-all"},j={"filter[group_id]":"video-unit"},D={"filter[group_id]":"image_pricing"},x="coupon",F="coupon_code",T=(o={},(0,p.Z)(o,f.gP,{"fields[products]":L.join(",")}),(0,p.Z)(o,f.k4,{"fields[products]":B.join(",")}),(0,p.Z)(o,f.xF,{"fields[products]":E.join(",")}),(0,p.Z)(o,f.pX,{"fields[products]":E.join(",")}),s={},(0,p.Z)(s,f.k4,D),(0,p.Z)(s,f.gP,D),(0,p.Z)(s,f.xF,_.zx),(0,p.Z)(s,f.pX,P),"adjustment coupon applied is invalid"),k="validation failed: user would have duplicate subscription",C="validation failed: duplicate products selected or the customer already has a subscription of this type. activating will result in concurrent duplicate subscriptions.",I="validation failed: user already has an incompatible subscription",z="validation failed: current subscription cannot mix with team subscription",R="validation failed: a user cannot mix a team and non-team subscription.",N=(u={},(0,p.Z)(u,f.k4,(r={},(0,p.Z)(r,k,"alerts:image_pricing_duplicate_subscription"),(0,p.Z)(r,C,"alerts:image_pricing_duplicate_subscription"),(0,p.Z)(r,I,"alerts:image_pricing_incompatible_subscription"),(0,p.Z)(r,z,"alerts:image_pricing_cannot_mix_team_subscription"),(0,p.Z)(r,R,"alerts:image_pricing_cannot_mix_team_subscription"),(0,p.Z)(r,T,"alerts:pricing_invalid_coupon_code"),(0,p.Z)(r,"defaultAlert","alerts:default_pricing_alert"),r)),(0,p.Z)(u,f.pX,(a={},(0,p.Z)(a,k,"alerts:footage_pricing_duplicate_subscription"),(0,p.Z)(a,C,"alerts:footage_pricing_duplicate_subscription"),(0,p.Z)(a,I,"alerts:footage_pricing_incompatible_subscription"),(0,p.Z)(a,z,"alerts:footage_pricing_incompatible_subscription"),(0,p.Z)(a,R,"alerts:footage_pricing_incompatible_subscription"),(0,p.Z)(a,T,"alerts:pricing_invalid_coupon_code"),(0,p.Z)(a,"defaultAlert","alerts:default_pricing_alert"),a)),(0,p.Z)(u,f.xF,(l={},(0,p.Z)(l,k,"alerts:music_pricing_duplicate_subscription"),(0,p.Z)(l,C,"alerts:music_pricing_duplicate_subscription"),(0,p.Z)(l,I,"alerts:music_pricing_incompatible_subscription"),(0,p.Z)(l,z,"alerts:music_pricing_incompatible_subscription"),(0,p.Z)(l,R,"alerts:music_pricing_incompatible_subscription"),(0,p.Z)(l,T,"alerts:pricing_invalid_coupon_code"),(0,p.Z)(l,"defaultAlert","alerts:default_pricing_alert"),l)),(0,p.Z)(u,f.gP,(c={},(0,p.Z)(c,R,"alerts:editorial_pricing_cannot_mix_team_subscription"),(0,p.Z)(c,T,"alerts:pricing_invalid_coupon_code"),(0,p.Z)(c,"defaultAlert","alerts:default_pricing_alert"),c)),(0,p.Z)(u,"none",{defaultAlert:"alerts:default_pricing_alert"}),u)},67508:function(e,t,i){i.d(t,{w:function(){return n}});var n=(0,i(67294).createContext)({})},98198:function(e,t,i){i.d(t,{l:function(){return r}});var n=i(67294),o=i(67508),s=i(85893),r=function(e){var t=e.allSizesAssetEligibility,i=e.asset,r=e.children;return(0,s.jsx)(o.w.Provider,{value:(0,n.useMemo)((function(){return{allSizesAssetEligibility:t,asset:i}}),[t,i]),children:r})};r.defaultProps={allSizesAssetEligibility:{},asset:{}}},48184:function(e,t,i){i.d(t,{IP:function(){return S},jC:function(){return w}});var n=i(59499),o=i(23204),s=i.n(o),r=i(40821),a=i(44828),l=i(87883),c=i(60969),u=i(64122),d=i(60996),p=i(52087),_=i(53558),g=i(3674),f=i(58682),b=i(54887);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var v=function(e){var t=e.assets,i=e.include,n=void 0===i?"subscriptions,licenses,licenses.product,subscriptions.product":i,o=e.licenseName,r=e.selectedAssetSize,a=t[0],g=(0,p._L)(a),f={};(null===t||void 0===t?void 0:t.length)>=2?f.content_ids=t.filter((function(e){return!!e.id})).join(","):f.content_id=null===a||void 0===a?void 0:a.id;var b=function(e){var t=e.assetTypeFromAsset,i=e.licenseName,n=e.selectedAssetSize;switch(t){case l.pX:return m({},(null===n||void 0===n?void 0:n.name)&&{content_size:_.Oy.SSTK_TO_LEGACY_ELIGIBILTY[n.name]||n.name});case l.j0:case l.xF:return{content_format:l.j0};default:return m(m(m(m({},(null===n||void 0===n?void 0:n.name)&&{content_size:_.nd[s()(n.name)].downloadName}),(null===n||void 0===n?void 0:n.format)&&{content_format:n.format}),i===u.HS&&{license_name:u.HS}),(i===c.sV||t===l.gP)&&{license_name:c.sV})}}({assetTypeFromAsset:g,licenseName:o,selectedAssetSize:r});return m(m({include:n,content_type:(0,d.JD)({assetType:g,assetId:null===a||void 0===a?void 0:a.id})},b),f)},w=function(e){var t=e.licenseeIdentifier,i=e.assets,n=e.licenseName,o=e.selectedAssetSize;return(0,a.Td)({urlParams:{licenseeIdentifier:t},queryParams:v({assets:i,licenseName:n,selectedAssetSize:o})}).formattedUrl},S=function(e){var t=e.assets,i=e.licenseeIdentifier,n=void 0===i?c.RU:i,o=e.licenseName,s=e.selectedAssetSize,a=e.shouldFetch,l=void 0===a||a,u=(0,b.B)();return(0,r.ZP)(l&&u?w({licenseeIdentifier:n,assets:t,licenseName:o,selectedAssetSize:s}):null,(function(e){return g.uS.get(e).then((function(e){return(0,f.O)(e.data)}))}))}}}]);
//# sourceMappingURL=43931-3f6868ba40382795.js.map